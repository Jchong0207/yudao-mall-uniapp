import{b as t,c as e,d as s}from"./s-layout.CDLFZFtp.js";import{P as a,r as o,e as l,j as i,f as d,w as r,Q as n,g as u,k as c,y as p,x as g,p as y,t as f,C as m,i as b,u as h,s as _,q as x,v as k,c as v,l as C,F as w,m as S,R,T as $,I as T,U as B,V as L,A as I,W as j,X as z,Y as F,Z as O,_ as P,a0 as W,D as M,S as N,a1 as D,a2 as U,M as E,z as G,a3 as A,a4 as H,a5 as q,a6 as Z,a7 as V,a8 as J}from"./index-DwytzHTY.js";import{_ as Q}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as X,a as Y,b as K}from"./uni-list.BnHWK_nd.js";import{_ as tt}from"./su-image.Fy-Yq_nL.js";import{_ as et,a as st}from"./su-swiper.Cl6_R2IC.js";import{_ as at}from"./s-goods-column.DTzf4Ulf.js";import{S as ot}from"./spu.t8EneMCA.js";import{a as lt,f as it}from"./useGoods.U8FcjcdG.js";import{C as dt}from"./combination.D9Vu76j1.js";import{S as rt}from"./seckill.Dws0DhBz.js";import{P as nt}from"./point.B6rQT6aD.js";import{f as ut,a as ct}from"./index.Bfpb8qEp.js";import{_ as pt}from"./mp-html.Bx3Fd0yo.js";import{A as gt}from"./article.Dq4qTW3q.js";const yt=Q({name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:""},speed:{type:Number,default:100},color:{type:String,default:"var(--ui-BG-Main)"},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:()=>({textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,elIdBox:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}),mounted(){this.$nextTick((()=>{this.initSize()}))},methods:{initSize(){if(this.scrollable){let t=[],e=new Promise(((t,e)=>{a().in(this).select(`#${this.elId}`).boundingClientRect().exec((e=>{this.textWidth=e[0].width,t()}))})),s=new Promise(((t,e)=>{a().in(this).select(`#${this.elIdBox}`).boundingClientRect().exec((e=>{this.boxWidth=e[0].width,t()}))}));t.push(e),t.push(s),Promise.all(t).then((()=>{this.animationDuration=this.textWidth/this.speed+"s",this.animationDelay=`-${this.boxWidth/this.speed}s`,setTimeout((()=>{this.animationPlayState="running"}),1e3)}))}},loopAnimation(){},clickMore(){this.$emit("getmore")},close(){this.show=!1,this.$emit("close")},onClick(){this.$emit("click")}}},[["render",function(e,s,a,h,_,x){const k=o(l("uni-icons"),t),v=m,C=b;return _.show?(i(),d(C,{key:0,class:"uni-noticebar",style:g({backgroundColor:a.backgroundColor}),onClick:x.onClick},{default:r((()=>[n(e.$slots,"icon",{},(()=>[!0===a.showIcon||"true"===a.showIcon?(i(),d(k,{key:0,class:"uni-noticebar-icon",type:"sound",color:a.color,size:"22"},null,8,["color"])):u("",!0)]),!0),c(C,{ref:"textBox",class:p(["uni-noticebar__content-wrapper",{"uni-noticebar__content-wrapper--scrollable":a.scrollable,"uni-noticebar__content-wrapper--single":!a.scrollable&&(a.single||a.moreText)}])},{default:r((()=>[c(C,{id:_.elIdBox,class:p(["uni-noticebar__content",{"uni-noticebar__content--scrollable":a.scrollable,"uni-noticebar__content--single":!a.scrollable&&(a.single||a.moreText)}])},{default:r((()=>[c(v,{id:_.elId,ref:"animationEle",class:p(["uni-noticebar__content-text",{"uni-noticebar__content-text--scrollable":a.scrollable,"uni-noticebar__content-text--single":!a.scrollable&&(a.single||a.showGetMore)}]),style:g({color:a.color,width:_.wrapWidth+"px",animationDuration:_.animationDuration,"-webkit-animationDuration":_.animationDuration,animationPlayState:_.webviewHide?"paused":_.animationPlayState,"-webkit-animationPlayState":_.webviewHide?"paused":_.animationPlayState,animationDelay:_.animationDelay,"-webkit-animationDelay":_.animationDelay})},{default:r((()=>[y(f(a.text),1)])),_:1},8,["id","class","style"])])),_:1},8,["id","class"])])),_:1},8,["class"]),!0===a.showGetMore||"true"===a.showGetMore?(i(),d(C,{key:0,class:"uni-noticebar__more uni-cursor-point",onClick:x.clickMore},{default:r((()=>[a.moreText.length>0?(i(),d(v,{key:0,style:g({color:a.moreColor}),class:"uni-noticebar__more-text"},{default:r((()=>[y(f(a.moreText),1)])),_:1},8,["style"])):(i(),d(k,{key:1,type:"right",color:a.moreColor,size:"16"},null,8,["color"]))])),_:1},8,["onClick"])):u("",!0),!0!==a.showClose&&"true"!==a.showClose||!1!==a.showGetMore&&"false"!==a.showGetMore?u("",!0):(i(),d(C,{key:1,class:"uni-noticebar-close uni-cursor-point"},{default:r((()=>[c(C,{onClick:x.close},{default:r((()=>[n(e.$slots,"close",{},(()=>[c(k,{type:"closeempty",color:a.color,size:"16"},null,8,["color"])]),!0)])),_:3},8,["onClick"])])),_:3}))])),_:3},8,["style","onClick"])):u("",!0)}],["__scopeId","data-v-dc8f5974"]]),ft=Q({__name:"s-notice-block",props:{data:{type:Object,default(){}}},setup:t=>(e,s)=>{const a=x,n=o(l("su-notice-bar"),yt),u=b;return i(),d(u,{class:"ss-flex ss-col-center notice-wrap"},{default:r((()=>[c(a,{class:"icon-img",src:h(_).$url.cdn(t.data.iconUrl),mode:"heightFix"},null,8,["src"]),c(n,{style:{flex:"1"},showIcon:!1,scrollable:"",single:"",text:t.data.contents[0].text,speed:50,color:t.data.textColor,onClick:s[0]||(s[0]=e=>h(_).$router.go(t.data.contents[0].url))},null,8,["text","color"])])),_:1})}},[["__scopeId","data-v-f049fa3f"]]),mt=Q({__name:"s-menu-button",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},circular:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},interval:{type:Number,default:5e3},duration:{type:Number,default:500},ui:{type:String,default:""},mode:{type:String,default:"default"},dotStyle:{type:String,default:"long"},dotCur:{type:String,default:"ui-BG-Main"},height:{type:Number,default:300},hasBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"red"},background:{type:String,default:"blue"},hoverClass:{type:String,default:"ss-hover-class"},col:{type:[Number,String],default:3},iconSize:{type:Number,default:80},color:{type:String,default:"#000"}},setup(t){const e=k({cur:0}),s=t,a=v((()=>{const{bgType:t,bgImg:e,bgColor:a}=s.styles;return{background:"img"===t?`url(${e}) no-repeat top center / 100% 100%`:a}})),o=v((()=>m(s.data.list,s.data.row*s.data.column))),l=v((()=>s.data.row*("iconText"===s.data.layout?200:180)));_.$platform.device.windowWidth;const n=t=>{e.cur=t.detail.current},m=(t=[],e=1)=>{let s=[],a=[];return t.forEach((t=>{a.length===e&&(a=[]),0===a.length&&s.push(a),a.push(t)})),s};return(m,k)=>{const v=b,T=x,B=R,L=$;return i(),d(v,{class:p(["ui-swiper",[s.mode,s.ui]]),style:g([a.value,{height:l.value+(o.value.length>1?50:0)+"rpx"}])},{default:r((()=>[c(L,{circular:s.circular,current:e.cur,autoplay:s.autoplay,interval:s.interval,duration:s.duration,style:g([{height:l.value+"rpx"}]),onChange:n},{default:r((()=>[(i(!0),C(w,null,S(o.value,((a,o)=>(i(),d(B,{key:o,class:p({cur:e.cur==o})},{default:r((()=>[c(v,{class:"grid-wrap"},{default:r((()=>[(i(!0),C(w,null,S(a,((e,a)=>(i(),d(v,{key:a,class:"grid-item ss-flex ss-flex-col ss-col-center ss-row-center",style:g([{width:1/t.data.column*100+"%",height:"200rpx"}]),"hover-class":"ss-hover-btn",onClick:t=>h(_).$router.go(e.url)},{default:r((()=>[c(v,{class:"menu-box ss-flex ss-flex-col ss-col-center ss-row-center"},{default:r((()=>[e.badge.show?(i(),d(v,{key:0,class:"tag-box",style:g([{background:e.badge.bgColor,color:e.badge.textColor}])},{default:r((()=>[y(f(e.badge.text),1)])),_:2},1032,["style"])):u("",!0),e.iconUrl?(i(),d(T,{key:1,class:"menu-icon",style:g([{width:s.iconSize+"rpx",height:s.iconSize+"rpx"}]),src:h(_).$url.cdn(e.iconUrl),mode:"aspectFill"},null,8,["style","src"])):u("",!0),"iconText"===t.data.layout?(i(),d(v,{key:2,class:"menu-title",style:g([{color:e.titleColor}])},{default:r((()=>[y(f(e.title),1)])),_:2},1032,["style"])):u("",!0)])),_:2},1024)])),_:2},1032,["style","onClick"])))),128))])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1},8,["circular","current","autoplay","interval","duration","style"]),o.value.length>1?(i(),C(w,{key:0},["tag"!=s.dotStyle?(i(),d(v,{key:0,class:p(["ui-swiper-dot",s.dotStyle])},{default:r((()=>[(i(!0),C(w,null,S(o.value.length,((t,a)=>(i(),d(v,{class:p(["line-box",[e.cur==a?"cur":"",s.dotCur]]),key:a},null,8,["class"])))),128))])),_:1},8,["class"])):u("",!0),"tag"==s.dotStyle?(i(),d(v,{key:1,class:p(["ui-swiper-dot",s.dotStyle])},{default:r((()=>[c(v,{class:p(["ui-tag radius",[s.dotCur]]),style:{"pointer-events":"none"}},{default:r((()=>[c(v,{style:{transform:"scale(0.7)"}},{default:r((()=>[y(f(e.cur+1)+" / "+f(o.value.length),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])):u("",!0)],64)):u("",!0)])),_:1},8,["class","style"])}}},[["__scopeId","data-v-9f5543a4"]]),bt=Q({__name:"s-menu-list",props:{data:{type:Object,default:()=>({})}},setup:t=>(e,s)=>{const a=x,n=b,p=o(l("uni-list-item"),X),m=o(l("uni-list"),Y);return i(),d(n,{class:"menu-list-wrap"},{default:r((()=>[c(m,{border:!0},{default:r((()=>[(i(!0),C(w,null,S(t.data.list,((t,e)=>(i(),d(p,{key:e,showArrow:"",clickable:"",onClick:e=>h(_).$router.go(t.url)},{header:r((()=>[c(n,{class:"ss-flex ss-col-center"},{default:r((()=>[t.iconUrl?(i(),d(a,{key:0,class:"list-icon",src:h(_).$url.cdn(t.iconUrl),mode:"aspectFit"},null,8,["src"])):u("",!0),c(n,{class:"title-text ss-flex ss-row-center ss-col-center ss-m-l-20",style:g([{color:t.titleColor}])},{default:r((()=>[y(f(t.title),1)])),_:2},1032,["style"])])),_:2},1024)])),footer:r((()=>[c(n,{class:"notice-text ss-flex ss-row-center ss-col-center",style:g([{color:t.subtitleColor}])},{default:r((()=>[y(f(t.subtitle),1)])),_:2},1032,["style"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}},[["__scopeId","data-v-af9bf3a7"]]);const ht=Q({name:"UniGridItem",inject:["grid"],props:{index:{type:Number,default:0}},data:()=>({column:0,showBorder:!0,square:!0,highlight:!0,left:0,top:0,openNum:2,width:0,borderColor:"#e5e5e5"}),created(){this.column=this.grid.column,this.showBorder=this.grid.showBorder,this.square=this.grid.square,this.highlight=this.grid.highlight,this.top=0===this.hor?this.grid.hor:this.hor,this.left=0===this.ver?this.grid.ver:this.ver,this.borderColor=this.grid.borderColor,this.grid.children.push(this),this.width=this.grid.width},beforeDestroy(){this.grid.children.forEach(((t,e)=>{t===this&&this.grid.children.splice(e,1)}))},methods:{_onClick(){this.grid.change({detail:{index:this.index}})}}},[["render",function(t,e,s,a,o,l){const u=b;return i(),d(u,{style:g("width:"+o.width+";"+(o.square?"height:"+o.width:"")),class:"uni-grid-item grid-item"},{default:r((()=>[c(u,{class:p([{"uni-grid-item--border":o.showBorder,"uni-grid-item--border-top":o.showBorder&&s.index<o.column,"uni-highlight":o.highlight},"uni-grid-item__box"]),style:g({"border-right-color":o.borderColor,"border-bottom-color":o.borderColor,"border-top-color":o.borderColor}),onClick:l._onClick},{default:r((()=>[n(t.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onClick"])])),_:3},8,["style"])}],["__scopeId","data-v-3055060c"]]);const _t=Q({name:"UniGrid",emits:["change"],props:{column:{type:Number,default:3},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"#D2D2D2"},square:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0}},provide(){return{grid:this}},data:()=>({elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,width:0}),created(){this.children=[]},mounted(){this.$nextTick((()=>{this.init()}))},methods:{init(){setTimeout((()=>{this._getSize((t=>{this.children.forEach(((e,s)=>{e.width=t}))}))}),50)},change(t){this.$emit("change",t)},_getSize(t){a().in(this).select(`#${this.elId}`).boundingClientRect().exec((e=>{this.width=parseInt((e[0].width-1)/this.column)+"px",t(this.width)}))}}},[["render",function(t,e,s,a,o,l){const u=b;return i(),d(u,{class:"uni-grid-wrap"},{default:r((()=>[c(u,{id:o.elId,ref:"uni-grid",class:p(["uni-grid",{"uni-grid--border":s.showBorder}]),style:g({"border-left-color":s.borderColor})},{default:r((()=>[n(t.$slots,"default",{},void 0,!0)])),_:3},8,["id","class","style"])])),_:3})}],["__scopeId","data-v-257e8068"]]),xt=Q({__name:"s-menu-grid",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,s=v((()=>{const{bgType:t,bgImg:s,bgColor:a}=e.styles;return{background:"img"===t?`url(${s}) no-repeat top center / 100% 100%`:a}}));return(e,a)=>{const n=b,p=x,m=o(l("uni-grid-item"),ht),k=o(l("uni-grid"),_t);return i(),d(n,{style:g([s.value,{marginLeft:`${t.data.space}px`}])},{default:r((()=>[c(k,{showBorder:Boolean(t.data.border),column:t.data.column},{default:r((()=>[(i(!0),C(w,null,S(t.data.list,((t,e)=>(i(),d(m,{key:e,onClick:e=>h(_).$router.go(t.url)},{default:r((()=>[c(n,{class:"grid-item-box ss-flex ss-flex-col ss-row-center ss-col-center"},{default:r((()=>[c(n,{class:"img-box"},{default:r((()=>[t.badge.show?(i(),d(n,{key:0,class:"tag-box",style:g([{background:t.badge.bgColor,color:t.badge.textColor}])},{default:r((()=>[y(f(t.badge.text),1)])),_:2},1032,["style"])):u("",!0),c(p,{class:"menu-image",src:h(_).$url.cdn(t.iconUrl)},null,8,["src"])])),_:2},1024),c(n,{class:"title-box ss-flex ss-flex-col ss-row-center ss-col-center"},{default:r((()=>[c(n,{class:"grid-text",style:g([{color:t.titleColor}])},{default:r((()=>[y(f(t.title),1)])),_:2},1032,["style"]),c(n,{class:"grid-tip",style:g([{color:t.subtitleColor}])},{default:r((()=>[y(f(t.subtitle),1)])),_:2},1032,["style"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["showBorder","column"])])),_:1},8,["style"])}}},[["__scopeId","data-v-87781ccd"]]),kt=Q({__name:"s-popup-image",props:{data:{type:Object,default(){}}},setup(t){const s=t,a=JSON.parse(T("modal-store")||"{}");console.log(a);const n=a.advHistory||[],p=B(0),g=v((()=>{const t=s.data.list||[],e=[];return t.length>0&&t.forEach((t=>{"once"===t.showType&&n.includes(t.imgUrl)?t.isShow=!1:(t.isShow=!0,e.push(t)),L(t)})),e}));return(t,s)=>{const a=x,n=b,y=o(l("su-popup"),e);return i(),d(n,null,{default:r((()=>[(i(!0),C(w,null,S(g.value,((t,e)=>(i(),d(n,{key:e},{default:r((()=>[e===p.value?(i(),d(y,{key:0,show:t.isShow,type:"center",backgroundColor:"none",round:"0",showClose:!0,isMaskClick:!1,onClose:t=>function(t){p.value=t+1,g.value[t].isShow=!1}(e)},{default:r((()=>[c(n,{class:"img-box"},{default:r((()=>[c(a,{class:"modal-img",src:h(_).$url.cdn(t.imgUrl),mode:"widthFix",onClick:I((e=>{return s=t.url,void _.$router.go(s);var s}),["stop"])},null,8,["src","onClick"])])),_:2},1024)])),_:2},1032,["show","onClose"])):u("",!0)])),_:2},1024)))),128))])),_:1})}}},[["__scopeId","data-v-e1c1d1c2"]]);_.$platform.device;const vt=Q({name:"UniFab",emits:["fabClick","trigger"],props:{pattern:{type:Array,default:()=>[]},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0}},data:()=>({fabShow:!1,isShow:!1,isAndroidNvue:!1,styles:[{}]}),computed:{contentWidth(t){return 130*(this.content.length+1)+"rpx"},contentWidthMin:()=>"100rpx",boxWidth(){return this.getPosition(3,"horizontal")},boxHeight(){return this.getPosition(3,"vertical")},leftBottom(){return this.getPosition(0,"left","bottom")},rightBottom(){return this.getPosition(0,"right","bottom")},leftTop(){return this.getPosition(0,"left","top")},rightTop(){return this.getPosition(0,"right","top")},flexDirectionStart(){return this.getPosition(1,"vertical","top")},flexDirectionEnd(){return this.getPosition(1,"vertical","bottom")},horizontalLeft(){return this.getPosition(2,"horizontal","left")},horizontalRight(){return this.getPosition(2,"horizontal","right")}},watch:{},created(){this.isShow=this.show,0===this.top&&(this.fabShow=!0)},methods:{_onClick(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open(){this.isShow=!0},close(){this.isShow=!1},_onItemClick(t,e){this.$emit("trigger",{index:t,item:e})},getPosition(t,e,s){return 0===t?this.horizontal===e&&this.vertical===s:1===t?this.direction===e&&this.vertical===s:2===t?this.direction===e&&this.horizontal===s:this.isShow&&this.direction===e?this.contentWidth:this.contentWidthMin}}},[["render",function(e,s,a,n,h,_){const k=b,v=x,R=m,$=o(l("uni-icons"),t);return i(),d(k,{class:"uni-cursor-point"},{default:r((()=>[a.popMenu&&(_.leftBottom||_.rightBottom||_.leftTop||_.rightTop)&&a.content.length>0?(i(),d(k,{key:0,class:p([{"uni-fab--leftBottom":_.leftBottom,"uni-fab--rightBottom":_.rightBottom,"uni-fab--leftTop":_.leftTop,"uni-fab--rightTop":_.rightTop},"uni-fab"])},{default:r((()=>[c(k,{class:p([{"uni-fab__content--left":"left"===a.horizontal,"uni-fab__content--right":"right"===a.horizontal,"uni-fab__content--flexDirection":"vertical"===a.direction,"uni-fab__content--flexDirectionStart":_.flexDirectionStart,"uni-fab__content--flexDirectionEnd":_.flexDirectionEnd,"uni-fab__content--other-platform":!h.isAndroidNvue},"uni-fab__content"]),style:g({width:_.boxWidth,height:_.boxHeight}),elevation:"5"},{default:r((()=>[_.flexDirectionStart||_.horizontalLeft?(i(),d(k,{key:0,class:"uni-fab__item uni-fab__item--first"})):u("",!0),(i(!0),C(w,null,S(a.content,((t,e)=>(i(),d(k,{key:e,class:p([{"uni-fab__item--active":h.isShow,"horizontal-margin":"horizontal"==a.direction},"uni-fab__item"]),onClick:s=>_._onItemClick(e,t)},{default:r((()=>[c(v,{src:t.active?t.selectedIconPath:t.iconPath,class:"uni-fab__item-image",mode:"aspectFit"},null,8,["src"]),c(R,{class:p(["uni-fab__item-text",{"vertical-margin":"vertical"==a.direction}]),style:g({color:a.pattern[e].color})},{default:r((()=>[y(f(t.text),1)])),_:2},1032,["class","style"])])),_:2},1032,["class","onClick"])))),128)),_.flexDirectionEnd||_.horizontalRight?(i(),d(k,{key:1,class:"uni-fab__item uni-fab__item--first"})):u("",!0)])),_:1},8,["class","style"])])),_:1},8,["class"])):u("",!0),c(k,{class:p([{"uni-fab__circle--leftBottom":_.leftBottom,"uni-fab__circle--rightBottom":_.rightBottom,"uni-fab__circle--leftTop":_.leftTop,"uni-fab__circle--rightTop":_.rightTop,"uni-fab__content--other-platform":!h.isAndroidNvue},"uni-fab__circle uni-fab__plus"]),style:g({"background-color":"var(--ui-BG-Main)"}),onClick:_._onClick},{default:r((()=>[c($,{class:p(["fab-circle-icon",{"uni-fab__plus--active":h.isShow&&a.content.length>0}]),type:"plusempty",color:"#fff",size:"20"},null,8,["class"])])),_:1},8,["class","style","onClick"])])),_:1})}],["__scopeId","data-v-4d6bd010"]]),Ct=Q({__name:"s-float-menu",props:{data:{type:Object,default(){}}},setup(t){var e;const s=t,a=k({pattern:[],content:[],direction:""}),r=B(null);function n(t){_.$router.go(t.item.url)}function p(){var t,e;(null==(t=h(r))?void 0:t.isShow)&&(null==(e=h(r))||e.close())}return a.direction=s.data.direction,null==(e=s.data)||e.list.forEach((t=>{var e;const o=(null==(e=s.data)?void 0:e.showText)?t.text:"";a.content.push({iconPath:_.$url.cdn(t.imgUrl),url:t.url,text:o}),a.pattern.push({color:t.textColor})})),j((()=>{var t,e;return!!(null==(t=h(r))?void 0:t.isShow)&&(null==(e=h(r))||e.close(),!0)})),(t,e)=>{var s;const g=b,y=o(l("uni-fab"),vt);return i(),C(w,null,[(null==(s=r.value)?void 0:s.isShow)?(i(),d(g,{key:0,class:"modal-bg",onClick:p})):u("",!0),c(y,{ref_key:"fabRef",ref:r,horizontal:"right",vertical:"bottom",direction:a.direction,pattern:a.pattern,content:a.content,onTrigger:n},null,8,["direction","pattern","content"])],64)}}},[["__scopeId","data-v-5bf5ab3a"]]),wt={__name:"s-image-block",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup:t=>(e,s)=>{const a=o(l("su-image"),tt),n=b;return i(),d(n,{onClick:s[0]||(s[0]=e=>{var s;return h(_).$router.go(null==(s=t.data)?void 0:s.url)})},{default:r((()=>[c(a,{src:h(_).$url.cdn(t.data.imgUrl),mode:"widthFix"},null,8,["src"])])),_:1})}},St={__name:"s-image-banner",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,s=v((()=>e.data.items.map((t=>{const e="img"===t.type?t.imgUrl:t.videoUrl;return{...t,type:"img"===t.type?"image":"video",src:_.$url.cdn(e),poster:_.$url.cdn(t.imgUrl)}}))));return(e,a)=>{const r=o(l("su-swiper"),et);return i(),d(r,{list:s.value,dotStyle:"dot"===t.data.indicator?"long":"tag",imageMode:"scaleToFill",dotCur:"bg-mask-40",seizeHeight:300,autoplay:t.data.autoplay,interval:1e3*t.data.interval,mode:t.data.type},null,8,["list","dotStyle","autoplay","interval","mode"])}}},Rt=Q({__name:"s-title-block",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=k({typeMap:{left:"ss-row-left",center:"ss-row-center"}}),s=t,a=v((()=>{const{bgType:t,bgImg:e,bgColor:a}=s.styles;return{background:"img"===t?`url(${e}) no-repeat top center / 100% 100%`:a}}));return(s,o)=>{const l=b,n=m;return i(),d(l,{class:p(["ss-title-wrap ss-flex ss-col-center",[e.typeMap[t.data.textAlign]]]),style:g([a.value,{marginLeft:`${t.data.space}px`}])},{default:r((()=>{var e;return[c(l,{class:"title-content"},{default:r((()=>[t.data.title?(i(),d(l,{key:0,style:g({fontSize:`${t.data.titleSize}px`,fontWeight:t.data.titleWeight,color:t.data.titleColor,textAlign:t.data.textAlign}),class:"title-text"},{default:r((()=>[y(f(t.data.title),1)])),_:1},8,["style"])):u("",!0),t.data.description?(i(),d(l,{key:1,style:g({fontSize:`${t.data.descriptionSize}px`,fontWeight:t.data.descriptionWeight,color:t.data.descriptionColor,textAlign:t.data.textAlign}),class:"sub-title-text"},{default:r((()=>[y(f(t.data.description),1)])),_:1},8,["style"])):u("",!0)])),_:1}),(null==(e=t.data.more)?void 0:e.show)?(i(),d(l,{key:0,class:"more-box ss-flex ss-col-center",onClick:o[0]||(o[0]=e=>h(_).$router.go(t.data.more.url)),style:g({color:t.data.descriptionColor})},{default:r((()=>["icon"!==t.data.more.type?(i(),d(l,{key:0,class:"more-text"},{default:r((()=>[y(f(t.data.more.text),1)])),_:1})):u("",!0),"text"!==t.data.more.type?(i(),d(n,{key:1,class:"_icon-forward"})):u("",!0)])),_:1},8,["style"])):u("",!0)]})),_:1},8,["class","style"])}}},[["__scopeId","data-v-c9670dd8"]]),$t=Q({__name:"s-image-cube",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e=t,s=_.$platform.device.windowWidth,a=v((()=>(s-((e.styles.marginLeft||0)+(e.styles.marginRight||0)+2*(e.styles.padding||0)))/4)),o=v((()=>{var t,o,l,i;let d=e.data.list.reduce(((t,e)=>t.includes(e.height+e.top)?t:[...t,e.height+e.top]),[]);return{height:Math.max(...d)*a.value+"px",width:s-2*((null==(o=null==(t=e.data)?void 0:t.style)?void 0:o.marginLeft)+(null==(i=null==(l=e.data)?void 0:l.style)?void 0:i.marginRight)+2*e.styles.padding)+"px"}})),l=t=>({width:t.width*a.value-e.data.space+"px",height:t.height*a.value-e.data.space+"px",left:t.left*a.value+"px",top:t.top*a.value+"px","border-top-left-radius":e.data.borderRadiusTop+"px","border-top-right-radius":e.data.borderRadiusTop+"px","border-bottom-left-radius":e.data.borderRadiusBottom+"px","border-bottom-right-radius":e.data.borderRadiusBottom+"px"});return(e,s)=>{const a=x,n=b;return i(),d(n,{class:"ss-cube-wrap",style:g([o.value])},{default:r((()=>[(i(!0),C(w,null,S(t.data.list,((e,s)=>(i(),d(n,{key:s},{default:r((()=>[c(n,{class:"cube-img-wrap",style:g([l(e),{margin:t.data.space+"px"}]),onClick:t=>h(_).$router.go(e.url)},{default:r((()=>[c(a,{class:"cube-img",src:h(_).$url.cdn(e.imgUrl),mode:"aspectFill"},null,8,["src"])])),_:2},1032,["style","onClick"])])),_:2},1024)))),128))])),_:1},8,["style"])}}},[["__scopeId","data-v-1ee0eac9"]]),Tt=Q({__name:"s-video-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup:t=>(e,s)=>{const a=o(l("su-video"),st);return i(),d(a,{class:"sss",uid:h(z)(),src:h(_).$url.cdn(t.data.videoUrl),poster:h(_).$url.cdn(t.data.posterUrl),height:2*t.styles.height,autoplay:t.data.autoplay},null,8,["uid","src","poster","height","autoplay"])}},[["__scopeId","data-v-63389778"]]),Bt=Q({__name:"su-subline",props:{lineColor:{type:String,default:"#000"},borderType:{type:String,default:"dashed"},lineWidth:{type:Number,default:1},height:{type:[Number,String],default:"auto"},paddingType:{type:String,default:"none"}},setup(t){const e=t,s=v((()=>({"border-top-width":`${e.lineWidth}px`,"border-top-color":e.lineColor,"border-top-style":e.borderType,margin:"none"===e.paddingType?"0":"0px 16px"})));return(e,a)=>{const o=b;return i(),d(o,{class:"wrap",style:g({height:`${t.height}px`})},{default:r((()=>[c(o,{class:"divider",style:g([s.value])},null,8,["style"])])),_:1},8,["style"])}}},[["__scopeId","data-v-bf2fb0d0"]]),Lt={__name:"s-line-block",props:{data:{type:Object,default:{}}},setup:t=>(e,s)=>{const a=o(l("su-subline"),Bt);return i(),d(a,F(O(t.data)),null,16)}},It=Q({__name:"s-hotzone-block",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup:t=>(e,s)=>{const a=x,o=b;return i(),d(o,{class:"hotzone-wrap"},{default:r((()=>[c(a,{src:h(_).$url.cdn(t.data.imgUrl),style:{width:"100%"},mode:"widthFix"},null,8,["src"]),(i(!0),C(w,null,S(t.data.list,((t,e)=>(i(),d(o,{class:"hotzone-box",key:e,style:g([{top:`${t.top}px`,left:`${t.left}px`,width:`${t.width}px`,height:`${t.height}px`}]),onClick:I((e=>h(_).$router.go(t.url)),["stop"])},null,8,["style","onClick"])))),128))])),_:1})}},[["__scopeId","data-v-e570383d"]]),jt=Q({__name:"s-goods-card",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e="oneColBigImg",s="twoCol",a="oneColSmallImg",n=k({goodsList:[],leftGoodsList:[],rightGoodsList:[]}),p=t,{layoutType:m,btnBuy:x,spuIds:R}=p.data||{},{marginLeft:$,marginRight:T}=p.styles||{},B=v((()=>"text"===x.type?{background:`linear-gradient(to right, ${x.bgBeginColor}, ${x.bgEndColor})`}:"img"===x.type?{width:"54rpx",height:"54rpx",background:`url(${_.$url.cdn(x.imgUrl)}) no-repeat`,backgroundSize:"100% 100%"}:void 0));let L=0,I=0,j=0;function z(t=0,e="left"){n.goodsList[L]&&("left"===e&&(I+=t),"right"===e&&(j+=t),I<=j?n.leftGoodsList.push(n.goodsList[L]):n.rightGoodsList.push(n.goodsList[L]),L++)}return P((async()=>{n.goodsList=await async function(t){const{data:e}=await ot.getSpuListByIds(t);return e}(R.join(",")),await W.getSettlementProduct(n.goodsList.map((t=>t.id)).join(",")).then((t=>{0===t.code&&lt(n.goodsList,t.data)})),m===s&&z()})),(p,k)=>{const v=M,R=o(l("s-goods-column"),at),L=b;return i(),d(L,null,{default:r((()=>[h(m)===e&&n.goodsList.length?(i(),d(L,{key:0,class:"goods-sl-box"},{default:r((()=>[(i(!0),C(w,null,S(n.goodsList,(e=>(i(),d(L,{class:"goods-box",key:e.id,style:g([{marginBottom:2*t.data.space+"rpx"}])},{default:r((()=>{var s;return[c(R,{class:"",size:"sl",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>h(_).$router.go("/pages/goods/index",{id:e.id})},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):u("",!0),h(m)===s&&n.goodsList.length?(i(),d(L,{key:1,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top"},{default:r((()=>[c(L,{class:"goods-list-box"},{default:r((()=>[(i(!0),C(w,null,S(n.leftGoodsList,(e=>(i(),d(L,{class:"left-list",style:g([{paddingRight:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-h($)-h(T),onClick:t=>h(_).$router.go("/pages/goods/index",{id:e.id}),onGetHeight:k[0]||(k[0]=t=>z(t,"left"))},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1}),c(L,{class:"goods-list-box"},{default:r((()=>[(i(!0),C(w,null,S(n.rightGoodsList,(e=>(i(),d(L,{class:"right-list",style:g([{paddingLeft:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-h($)-h(T),onClick:t=>h(_).$router.go("/pages/goods/index",{id:e.id}),onGetHeight:k[1]||(k[1]=t=>z(t,"right"))},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})):u("",!0),h(m)===a&&n.goodsList.length?(i(),d(L,{key:2,class:"goods-lg-box"},{default:r((()=>[(i(!0),C(w,null,S(n.goodsList,(e=>(i(),d(L,{class:"goods-box",style:g([{marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-card",size:"lg",goodsFields:t.data.fields,data:e,tagStyle:t.data.badge,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>h(_).$router.go("/pages/goods/index",{id:e.id})},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","data","tagStyle","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-eca9a26c"]]),zt=Q({__name:"s-goods-shelves",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e=t,{layoutType:s,spuIds:a}=e.data;let{marginLeft:n,marginRight:p}=e.styles;const y=B([]);return P((async()=>{if(a.length>0){let{data:t}=await ot.getSpuListByIds(a.join(","));y.value=t}})),(e,a)=>{const f=o(l("s-goods-column"),at),m=b,x=N;return i(),d(m,null,{default:r((()=>["twoCol"===h(s)?(i(),d(m,{key:0,class:"goods-xs-box ss-flex ss-flex-wrap",style:g([{margin:"-"+t.data.space+"rpx"}])},{default:r((()=>[(i(!0),C(w,null,S(y.value,(e=>(i(),d(m,{class:"goods-xs-list",key:e.id,style:g([{padding:t.data.space+"rpx"}])},{default:r((()=>{var s;return[c(f,{class:"goods-card",size:"xs",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:(454-2*h(p)-2*t.data.space-2*h(n))/2,onClick:t=>h(_).$router.go("/pages/goods/index",{id:e.id})},null,8,["goodsFields","tagStyle","data","titleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1},8,["style"])):u("",!0),"threeCol"===h(s)?(i(),d(m,{key:1,class:"goods-sm-box ss-flex ss-flex-wrap",style:g([{margin:"-"+t.data.space+"rpx"}])},{default:r((()=>[(i(!0),C(w,null,S(y.value,(e=>(i(),d(m,{key:e.id,class:"goods-card-box",style:g([{padding:t.data.space+"rpx"}])},{default:r((()=>{var s;return[c(f,{class:"goods-card",size:"sm",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>h(_).$router.go("/pages/goods/index",{id:e.id})},null,8,["goodsFields","tagStyle","data","titleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1},8,["style"])):u("",!0),"horizSwiper"===h(s)?(i(),d(m,{key:2,class:""},{default:r((()=>[c(x,{class:"scroll-box goods-scroll-box","scroll-x":"","scroll-anchoring":""},{default:r((()=>[c(m,{class:"goods-box ss-flex"},{default:r((()=>[(i(!0),C(w,null,S(y.value,(e=>(i(),d(m,{class:"goods-card-box",key:e.id,style:g([{marginRight:2*t.data.space+"rpx"}])},{default:r((()=>{var s;return[c(f,{class:"goods-card",size:"sm",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,titleWidth:(750-2*h(p)-4*t.data.space-2*h(n))/3,onClick:t=>h(_).$router.go("/pages/goods/index",{id:e.id})},null,8,["goodsFields","tagStyle","data","titleColor","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-32be2126"]]),Ft=Q({__name:"s-groupon-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e="oneColBigImg",s="twoCol",a="oneColSmallImg",n=k({spuList:[],leftSpuList:[],rightSpuList:[]}),p=t,{layoutType:m,btnBuy:x,activityIds:R}=p.data||{},{marginLeft:$,marginRight:T}=p.styles||{},B=v((()=>"text"===x.type?{background:`linear-gradient(to right, ${x.bgBeginColor}, ${x.bgEndColor})`}:"img"===x.type?{width:"54rpx",height:"54rpx",background:`url(${_.$url.cdn(x.imgUrl)}) no-repeat`,backgroundSize:"100% 100%"}:void 0));let L=0,I=0,j=0;function z(t=0,e="left"){n.spuList[L]&&("left"===e&&(I+=t),"right"===e&&(j+=t),I<=j?n.leftSpuList.push(n.spuList[L]):n.rightSpuList.push(n.spuList[L]),L++)}async function F(t){const{data:e}=await ot.getSpuDetail(t);return e}return P((async()=>{const t=await async function(t){const{data:e}=await dt.getCombinationActivityListByIds(t);return e}(R.join(","));for(const e of t)n.spuList.push(await F(e.spuId));t.forEach((t=>{const e=t.combinationPrice||1/0,s=n.spuList.find((e=>t.spuId===e.id));s&&(s.name=t.name,s.price=Math.min(e,s.price),s.activityId=t.id)})),m===s&&z()})),(p,k)=>{const v=M,R=o(l("s-goods-column"),at),L=b;return i(),d(L,null,{default:r((()=>[h(m)===e&&n.spuList.length?(i(),d(L,{key:0,class:"goods-sl-box"},{default:r((()=>[(i(!0),C(w,null,S(n.spuList,(e=>(i(),d(L,{class:"goods-box",key:e.id,style:g([{marginBottom:2*t.data.space+"rpx"}])},{default:r((()=>{var s;return[c(R,{class:"",size:"sl",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>h(_).$router.go("/pages/goods/groupon",{id:e.activityId})},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):u("",!0),h(m)===a&&n.spuList.length?(i(),d(L,{key:1,class:"goods-lg-box"},{default:r((()=>[(i(!0),C(w,null,S(n.spuList,(e=>(i(),d(L,{class:"goods-box",style:g([{marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-card",size:"lg",goodsFields:t.data.fields,data:e,tagStyle:t.data.badge,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>h(_).$router.go("/pages/goods/groupon",{id:e.activityId})},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","data","tagStyle","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):u("",!0),h(m)===s&&n.spuList.length?(i(),d(L,{key:2,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top"},{default:r((()=>[c(L,{class:"goods-list-box"},{default:r((()=>[(i(!0),C(w,null,S(n.leftSpuList,(e=>(i(),d(L,{class:"left-list",style:g([{paddingRight:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-h($)-h(T),onClick:t=>h(_).$router.go("/pages/goods/groupon",{id:e.activityId}),onGetHeight:k[0]||(k[0]=t=>z(t,"left"))},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1}),c(L,{class:"goods-list-box"},{default:r((()=>[(i(!0),C(w,null,S(n.rightSpuList,(e=>(i(),d(L,{class:"right-list",style:g([{paddingLeft:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-h($)-h(T),onClick:t=>h(_).$router.go("/pages/goods/groupon",{id:e.activityId}),onGetHeight:k[1]||(k[1]=t=>z(t,"right"))},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-6c5851a7"]]),Ot=Q({__name:"s-seckill-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e="oneColBigImg",s="twoCol",a="oneColSmallImg",n=k({spuList:[],leftSpuList:[],rightSpuList:[]}),p=t,{layoutType:m,btnBuy:x,activityIds:R}=p.data||{},{marginLeft:$,marginRight:T}=p.styles||{},B=v((()=>"text"===x.type?{background:`linear-gradient(to right, ${x.bgBeginColor}, ${x.bgEndColor})`}:"img"===x.type?{width:"54rpx",height:"54rpx",background:`url(${_.$url.cdn(x.imgUrl)}) no-repeat`,backgroundSize:"100% 100%"}:void 0));let L=0,I=0,j=0;function z(t=0,e="left"){n.spuList[L]&&("left"===e&&(I+=t),"right"===e&&(j+=t),I<=j?n.leftSpuList.push(n.spuList[L]):n.rightSpuList.push(n.spuList[L]),L++)}async function F(t){const{data:e}=await ot.getSpuDetail(t);return e}return P((async()=>{const t=await async function(t){const{data:e}=await rt.getSeckillActivityListByIds(t);return e}(R.join(","));for(const e of t)n.spuList.push(await F(e.spuId));t.forEach((t=>{const e=t.seckillPrice||1/0,s=n.spuList.find((e=>t.spuId===e.id));s&&(s.name=t.name,s.price=Math.min(e,s.price),s.activityId=t.id)})),m===s&&z()})),(p,k)=>{const v=M,R=o(l("s-goods-column"),at),L=b;return i(),d(L,null,{default:r((()=>[h(m)===e&&n.spuList.length?(i(),d(L,{key:0,class:"goods-sl-box"},{default:r((()=>[(i(!0),C(w,null,S(n.spuList,(e=>(i(),d(L,{class:"goods-box",key:e.id,style:g([{marginBottom:2*t.data.space+"rpx"}])},{default:r((()=>{var s;return[c(R,{class:"",size:"sl",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>h(_).$router.go("/pages/goods/seckill",{id:e.activityId})},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):u("",!0),h(m)===a&&n.spuList.length?(i(),d(L,{key:1,class:"goods-lg-box"},{default:r((()=>[(i(!0),C(w,null,S(n.spuList,(e=>(i(),d(L,{class:"goods-box",style:g([{marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-card",size:"lg",goodsFields:t.data.fields,data:e,tagStyle:t.data.badge,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>h(_).$router.go("/pages/goods/seckill",{id:e.activityId})},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","data","tagStyle","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):u("",!0),h(m)===s&&n.spuList.length?(i(),d(L,{key:2,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top"},{default:r((()=>[c(L,{class:"goods-list-box"},{default:r((()=>[(i(!0),C(w,null,S(n.leftSpuList,(e=>(i(),d(L,{class:"left-list",style:g([{paddingRight:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-h($)-h(T),onClick:t=>h(_).$router.go("/pages/goods/seckill",{id:e.activityId}),onGetHeight:k[0]||(k[0]=t=>z(t,"left"))},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1}),c(L,{class:"goods-list-box"},{default:r((()=>[(i(!0),C(w,null,S(n.rightSpuList,(e=>(i(),d(L,{class:"right-list",style:g([{paddingLeft:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-h($)-h(T),onClick:t=>h(_).$router.go("/pages/goods/seckill",{id:e.activityId}),onGetHeight:k[1]||(k[1]=t=>z(t,"right"))},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-77f690b3"]]),Pt=Q({__name:"s-point-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e="oneColBigImg",s="twoCol",a="oneColSmallImg",n=k({spuList:[],leftSpuList:[],rightSpuList:[]}),p=t,{layoutType:m,btnBuy:x,activityIds:R}=p.data||{},{marginLeft:$,marginRight:T}=p.styles||{},B=v((()=>"text"===x.type?{background:`linear-gradient(to right, ${x.bgBeginColor}, ${x.bgEndColor})`}:"img"===x.type?{width:"54rpx",height:"54rpx",background:`url(${_.$url.cdn(x.imgUrl)}) no-repeat`,backgroundSize:"100% 100%"}:void 0));let L=0,I=0,j=0;function z(t=0,e="left"){n.spuList[L]&&("left"===e&&(I+=t),"right"===e&&(j+=t),I<=j?n.leftSpuList.push(n.spuList[L]):n.rightSpuList.push(n.spuList[L]),L++)}async function F(t){const{data:e}=await ot.getSpuDetail(t);return e}return P((async()=>{const t=await async function(t){const{data:e}=await nt.getPointActivityListByIds(t);return e}(R.join(","));for(const e of t)n.spuList.push(await F(e.spuId));t.forEach((t=>{const e=n.spuList.find((e=>t.spuId===e.id));e&&(e.pointStock=t.stock,e.pointTotalStock=t.totalStock,e.point=t.point,e.pointPrice=t.price,e.activityId=t.id,e.activityType=D.POINT.type)})),m===s&&z()})),(p,k)=>{const v=M,R=o(l("s-goods-column"),at),L=b;return i(),d(L,null,{default:r((()=>[h(m)===e&&n.spuList.length?(i(),d(L,{key:0,class:"goods-sl-box"},{default:r((()=>[(i(!0),C(w,null,S(n.spuList,(e=>(i(),d(L,{class:"goods-box",key:e.id,style:g([{marginBottom:2*t.data.space+"rpx"}])},{default:r((()=>{var s;return[c(R,{class:"",size:"sl",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>h(_).$router.go("/pages/goods/point",{id:e.activityId})},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):u("",!0),h(m)===a&&n.spuList.length?(i(),d(L,{key:1,class:"goods-lg-box"},{default:r((()=>[(i(!0),C(w,null,S(n.spuList,(e=>(i(),d(L,{class:"goods-box",style:g([{marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-card",size:"lg",goodsFields:t.data.fields,data:e,tagStyle:t.data.badge,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>h(_).$router.go("/pages/goods/point",{id:e.activityId})},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","data","tagStyle","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):u("",!0),h(m)===s&&n.spuList.length?(i(),d(L,{key:2,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top"},{default:r((()=>[c(L,{class:"goods-list-box"},{default:r((()=>[(i(!0),C(w,null,S(n.leftSpuList,(e=>(i(),d(L,{class:"left-list",style:g([{paddingRight:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-h($)-h(T),onClick:t=>h(_).$router.go("/pages/goods/point",{id:e.activityId}),onGetHeight:k[0]||(k[0]=t=>z(t,"left"))},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1}),c(L,{class:"goods-list-box"},{default:r((()=>[(i(!0),C(w,null,S(n.rightSpuList,(e=>(i(),d(L,{class:"right-list",style:g([{paddingLeft:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(R,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-h($)-h(T),onClick:t=>h(_).$router.go("/pages/goods/point",{id:e.activityId}),onGetHeight:k[1]||(k[1]=t=>z(t,"right"))},{cart:r((()=>[c(v,{class:"ss-reset-button cart-btn",style:g([B.value])},{default:r((()=>[y(f("text"===h(x).type?h(x).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-d2031aef"]]),Wt=Q({__name:"s-live-card",props:{goodsFields:{type:[Array,Object],default:()=>({})},tagStyle:{type:Object,default:{}},data:{type:Object,default:{}},size:{type:String,default:"sl"},background:{type:String,default:""},topRadius:{type:Number,default:0},bottomRadius:{type:Number,default:0},titleColor:{type:String,default:"#333"},subTitleColor:{type:String,default:"#999999"}},emits:["click","getHeight"],setup(t,{emit:e}){const s=t,a=v((()=>({background:s.background,"border-top-left-radius":s.topRadius+"px","border-top-right-radius":s.topRadius+"px","border-bottom-left-radius":s.bottomRadius+"px","border-bottom-right-radius":s.bottomRadius+"px"}))),o=k({liveStatus:{101:{img:_.$url.static("/static/img/shop/app/mplive/living.png"),title:"直播中"},102:{img:_.$url.static("/static/img/shop/app/mplive/start.png"),title:"未开始"},103:{img:_.$url.static("/static/img/shop/app/mplive/ended.png"),title:"已结束"}}}),l=e,n=()=>{l("click")};return(e,s)=>{const l=x,p=b;return i(),d(p,null,{default:r((()=>["md"===t.size?(i(),d(p,{key:0,class:"md-goods-card ss-flex-col",style:g([a.value]),onClick:n},{default:r((()=>[c(p,{class:"icon-box ss-flex"},{default:r((()=>[c(l,{class:"icon",src:o.liveStatus[t.data.status].img},null,8,["src"]),c(p,{class:"title ss-m-l-16"},{default:r((()=>[y(f(o.liveStatus[t.data.status].title),1)])),_:1})])),_:1}),U("img",{class:"md-img-box",src:h(_).$url.cdn(t.data.feeds_img),referrerpolicy:"no-referrer"},null,8,["src"]),c(p,{class:"md-goods-content"},{default:r((()=>[c(p,{class:"md-goods-title ss-line-1",style:g([{color:t.titleColor}])},{default:r((()=>[y(f(t.data.name),1)])),_:1},8,["style"]),c(p,{class:"md-goods-subtitle ss-m-t-14 ss-line-1",style:g([{color:t.subTitleColor}])},{default:r((()=>[y(" 主播："+f(t.data.anchor_name),1)])),_:1},8,["style"])])),_:1})])),_:1},8,["style"])):u("",!0),"sl"===t.size?(i(),d(p,{key:1,class:"sl-goods-card ss-flex-col",style:g([a.value]),onClick:n},{default:r((()=>[c(p,{class:"icon-box ss-flex"},{default:r((()=>[c(l,{class:"icon",src:o.liveStatus[t.data.status].img},null,8,["src"]),c(p,{class:"title ss-m-l-16"},{default:r((()=>[y(f(o.liveStatus[t.data.status].title),1)])),_:1})])),_:1}),U("img",{class:"sl-img-box",src:h(_).$url.cdn(t.data.feeds_img),referrerpolicy:"no-referrer"},null,8,["src"]),c(p,{class:"sl-goods-content"},{default:r((()=>[c(p,{class:"sl-goods-title ss-line-1",style:g([{color:t.titleColor}])},{default:r((()=>[y(f(t.data.name),1)])),_:1},8,["style"]),c(p,{class:"sl-goods-subtitle ss-m-t-14 ss-line-1",style:g([{color:t.subTitleColor}])},{default:r((()=>[y(" 主播："+f(t.data.anchor_name),1)])),_:1},8,["style"])])),_:1})])),_:1},8,["style"])):u("",!0)])),_:1})}}},[["__scopeId","data-v-bedb20fb"]]),Mt=Q({__name:"s-live-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e=k({liveList:[],mpLink:""}),s=t,{mode:a,goodsFields:n,mpliveIds:p}=s.data||{};function y(t){E({title:"提示",confirmText:"允许",content:"将打开小程序访问",success:async function(t){t.confirm&&async function(){if(""===e.mpLink){const{error:t,data:s}=await _.$api.app.mplive.getMpLink();0===t&&(e.mpLink=s)}window.location=e.mpLink}()}})}return s.styles,P((async()=>{e.liveList=await async function(t){const{data:e}=await _.$api.app.mplive.getRoomList(t);return e}(p)})),(s,p)=>{const f=o(l("s-live-card"),Wt),m=b;return i(),d(m,null,{default:r((()=>[2===h(a)&&e.liveList.length?(i(),d(m,{key:0,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top",style:g([{margin:"-"+t.data.space+"rpx"}])},{default:r((()=>[(i(!0),C(w,null,S(e.liveList,(e=>(i(),d(m,{style:g([{padding:t.data.space+"rpx"}]),class:"goods-list-box",key:e.id},{default:r((()=>{var s,a;return[c(f,{class:"goods-md-box",size:"md",goodsFields:h(n),data:e,titleColor:null==(s=h(n).name)?void 0:s.color,subTitleColor:null==(a=h(n).anchor_name)?void 0:a.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>y(e.roomid)},null,8,["goodsFields","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1},8,["style"])):u("",!0),1===h(a)&&e.liveList.length?(i(),d(m,{key:1,class:"goods-lg-box"},{default:r((()=>[(i(!0),C(w,null,S(e.liveList,(e=>(i(),d(m,{class:"goods-box",style:g([{marginBottom:t.data.space+"px"}]),key:e.id},{default:r((()=>{var s;return[c(f,{class:"goods-card",size:"sl",goodsFields:h(n),data:e,titleColor:null==(s=h(n).name)?void 0:s.color,subTitleColor:h(n).anchor_name.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>y(e.roomid)},null,8,["goodsFields","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-74e60c24"]]),Nt=Q({__name:"su-coupon",props:{size:{type:String,default:"lg"},textColor:{type:String,default:"#FF6000"},background:{type:String,default:"#FFC19C"},btnBg:{type:String,default:"#fff"},btnTextColor:{type:String,default:"#FF6000"},state:{type:Number,default:0},couponId:{type:Number,default:0},title:{type:String,default:"这是优惠券"},value:{type:[Number,String],default:50},sellBy:{type:String,default:"2019.11.25至2019.12.25"},surplus:{type:[Number,String],default:0},type:{type:String,default:""}},setup(t){G((e=>({"1cba8317":t.textColor,"0956aa8e":t.btnTextColor,"78bb65bc":t.btnBg})));const e=k({stateMap:{0:"立即领取",1:"去使用"}}),s=t,a=v((()=>({background:s.background})));return(o,l)=>{const p=b,m=M;return i(),d(p,{class:"ui-coupon-wrap"},{default:r((()=>["xs"===s.size?(i(),d(p,{key:0,class:"xs-coupon-card ss-flex ss-flex-col ss-row-between",style:g([a.value]),onClick:l[0]||(l[0]=e=>h(_).$router.go("/pages/coupon/detail",{id:t.couponId}))},{default:r((()=>[c(p,{class:"ss-flex ss-flex-col ss-row-center ss-col-center"},{default:r((()=>[c(p,{class:"face-value-box ss-flex ss-col-bottom ss-m-t-50 ss-m-b-28"},{default:r((()=>[c(p,{class:"value-text ss-m-r-4"},{default:r((()=>[y(f("reduce"===t.type?t.value:Number(t.value)),1)])),_:1}),c(p,{class:"value-unit"},{default:r((()=>[y(f("reduce"===t.type?"元":"折"),1)])),_:1})])),_:1}),c(p,{class:"title-text"},{default:r((()=>[y(f(s.title),1)])),_:1})])),_:1}),c(p,{class:"card-bottom ss-m-b-30 ss-flex ss-row-center"},{default:r((()=>[n(o.$slots,"btn",{},(()=>[c(m,{class:"ss-reset-button card-btn"},{default:r((()=>[y(f(e.stateMap[s.state]),1)])),_:1})]),!0)])),_:3})])),_:3},8,["style"])):u("",!0),"md"===s.size?(i(),d(p,{key:1,class:"md-coupon-card ss-flex ss-row-between",style:g([a.value]),onClick:l[1]||(l[1]=e=>h(_).$router.go("/pages/coupon/detail",{id:t.couponId}))},{default:r((()=>[c(p,{class:"card-left ss-flex ss-flex-col ss-row-between ss-col-top ss-m-l-40"},{default:r((()=>[c(p,{class:"face-value-box ss-flex ss-col-bottom ss-m-t-28"},{default:r((()=>[c(p,{class:"value-text ss-m-r-4"},{default:r((()=>[y(f("reduce"===t.type?t.value:Number(t.value)),1)])),_:1}),c(p,{class:"value-unit"},{default:r((()=>[y(f("reduce"===t.type?"元":"折"),1)])),_:1})])),_:1}),c(p,{class:"ss-m-b-28"},{default:r((()=>[c(p,{class:"title-text ss-m-b-10"},{default:r((()=>[y(f(s.title),1)])),_:1}),s.surplus?(i(),d(p,{key:0,class:"surplus-text"},{default:r((()=>[y("仅剩："+f(s.surplus)+"张",1)])),_:1})):u("",!0)])),_:1})])),_:1}),c(p,{class:"card-right ss-flex ss-row-center"},{default:r((()=>[n(o.$slots,"btn",{},(()=>[c(m,{class:"ss-reset-button card-btn ss-flex ss-row-center ss-col-center"},{default:r((()=>[c(p,{class:"btn-text"},{default:r((()=>[y(f(e.stateMap[s.state]),1)])),_:1})])),_:1})]),!0)])),_:3})])),_:3},8,["style"])):u("",!0),"lg"===s.size?(i(),d(p,{key:2,class:"lg-coupon-card ss-flex ss-row-between",style:g([a.value]),onClick:l[2]||(l[2]=e=>h(_).$router.go("/pages/coupon/detail",{id:t.couponId}))},{default:r((()=>[c(p,{class:"card-left ss-flex ss-flex-col ss-row-between ss-col-top ss-m-l-40"},{default:r((()=>[c(p,{class:"face-value-box ss-flex ss-col-bottom ss-m-t-28"},{default:r((()=>[c(p,{class:"value-text ss-m-r-4"},{default:r((()=>[y(f("reduce"===t.type?t.value:Number(t.value)),1)])),_:1}),c(p,{class:"value-unit"},{default:r((()=>[y(f("reduce"===t.type?"元":"折"),1)])),_:1})])),_:1}),c(p,{class:"ss-m-b-20"},{default:r((()=>[c(p,{class:"title-text ss-m-b-10"},{default:r((()=>[y(f(s.title),1)])),_:1}),c(p,{class:"sellby-text"},{default:r((()=>[y("有效期："+f(s.sellBy),1)])),_:1})])),_:1})])),_:1}),c(p,{class:"card-right ss-flex ss-flex-col ss-col-center ss-row-center"},{default:r((()=>[n(o.$slots,"btn",{},(()=>[c(m,{class:"ss-reset-button card-btn ss-flex ss-row-center ss-col-center"},{default:r((()=>[y(f(e.stateMap[s.state]),1)])),_:1})]),!0),s.surplus?(i(),d(p,{key:0,class:"surplus-text ss-m-t-24"},{default:r((()=>[y("仅剩："+f(s.surplus)+"张",1)])),_:1})):u("",!0)])),_:3})])),_:3},8,["style"])):u("",!0)])),_:3})}}},[["__scopeId","data-v-0533717a"]]),Dt=Q({__name:"s-coupon-block",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,{columns:s,button:a}=e.data,n=["lg","md","xs"],u={background:`url(${_.$url.cdn(e.data.bgImg)}) no-repeat top center / 100% 100%`},p={background:a.bgColor,color:a.color},f={display:"flex","justify-content":"space-between"},m={display:"flex","justify-content":"space-around"},x=v((()=>{const{bgType:t,bgImg:s,bgColor:a}=e.styles;return{background:"img"===t?`url(${s}) no-repeat top center / 100% 100%`:a}})),k=t=>t.discountType===A.PRICE.type?ut(t.discountPrice):t.discountType===A.PERCENT.type?t.discountPercent:`未知【${t.discountType}】`,R=B([]);async function $(t){const{error:e,msg:s}=await q.takeCoupon(t);0!==e?await T():Z({title:s,icon:"none"})}const T=async()=>{const{data:t}=await q.getCouponTemplateListByIds(e.data.couponIds.join(","));R.value=t};return P((()=>{T()})),(e,a)=>{const _=b,v=M,T=o(l("su-coupon"),Nt),B=N;return i(),d(B,{class:"scroll-box","scroll-x":"","scroll-anchoring":"",style:g([x.value,{marginLeft:`${t.data.space}px`}])},{default:r((()=>[c(_,{class:"coupon-box ss-flex",style:g(2===R.value.length?m:f)},{default:r((()=>[(i(!0),C(w,null,S(R.value,((e,a)=>(i(),d(_,{class:"coupon-item",style:g([u,{marginLeft:`${t.data.space}px`}]),key:a},{default:r((()=>{return[c(T,{size:n[h(s)-1],textColor:t.data.textColor,background:"",couponId:e.id,title:e.name,type:(o=e,o.discountType===A.PRICE.type?"reduce":o.discountType===A.PERCENT.type?"percent":`未知【${o.discountType}】`),value:k(e),sellBy:(a=e,a.validityType===H.DATE.type?`${ct(a.validStartTime)} 至 ${ct(a.validEndTime)}`:a.validityType===H.TERM.type?`领取后第 ${a.fixedStartTerm} - ${a.fixedEndTerm} 天内可用`:"未知【"+a.validityType+"】")},{btn:r((()=>[2===h(s)?(i(),d(v,{key:0,onClick:I((t=>$(e.id)),["stop"]),class:"ss-reset-button card-btn vertical",style:g([p])},{default:r((()=>[c(_,{class:"btn-text"},{default:r((()=>[y("立即领取")])),_:1})])),_:2},1032,["onClick","style"])):(i(),d(v,{key:1,class:"ss-reset-button card-btn",style:g([p]),onClick:I((t=>$(e.id)),["stop"])},{default:r((()=>[y(" 立即领取 ")])),_:2},1032,["style","onClick"]))])),_:2},1032,["size","textColor","couponId","title","type","value","sellBy"])];var a,o})),_:2},1032,["style"])))),128))])),_:1},8,["style"])])),_:1},8,["style"])}}},[["__scopeId","data-v-9bfdd9ec"]]),Ut={__name:"s-richtext-block",props:{data:{type:Object,default:{}},styles:{type:Object,default(){}}},setup(t){const e=t,s=k({content:""});return P((async()=>{const{data:t}=await gt.getArticle(e.data.id);s.content=t.content})),(e,a)=>{const n=o(l("mp-html"),pt),u=b;return i(),d(u,{style:g([{marginLeft:t.styles.marginLeft+"px",marginRight:t.styles.marginRight+"px",marginBottom:t.styles.marginBottom+"px",marginTop:t.styles.marginTop+"px",padding:t.styles.padding+"px"}])},{default:r((()=>[c(n,{class:"richtext",content:s.content},null,8,["content"])])),_:1},8,["style"])}}},Et=Q({__name:"s-user-card",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},avatar:{type:String,default:""},nickname:{type:String,default:"请先登录"},vip:{type:[String,Number],default:"1"},collectNum:{type:[String,Number],default:"1"},likeNum:{type:[String,Number],default:"1"}},setup(t){const e=v((()=>_.$store("user").userInfo));console.log("用户信息",e);const s=v((()=>_.$store("user").isLogin)),a=t,o=v((()=>{const{bgType:t,bgImg:e,bgColor:s}=a.styles;return{background:"img"===t?`url(${e}) no-repeat top center / 100% 100%`:s}}));function l(){J("changeMobile")}return(a,n)=>{const p=x,k=b,v=m,C=M;return i(),d(k,{class:"ss-user-info-wrap ss-p-t-50",style:g([o.value,{marginLeft:`${t.data.space}px`}])},{default:r((()=>[c(k,{class:"ss-flex ss-col-center ss-row-between ss-m-b-20"},{default:r((()=>[c(k,{class:"left-box ss-flex ss-col-center ss-m-l-36"},{default:r((()=>[c(k,{class:"avatar-box ss-m-r-24"},{default:r((()=>[c(p,{class:"avatar-img",src:s.value?h(_).$url.cdn(e.value.avatar):h(_).$url.static("/static/img/shop/default_avatar.png"),mode:"aspectFill",onClick:n[0]||(n[0]=t=>h(_).$router.go("/pages/user/info"))},null,8,["src"])])),_:1}),c(k,null,{default:r((()=>[c(k,{class:"nickname-box ss-flex ss-col-center"},{default:r((()=>[c(k,{class:"nick-name ss-m-r-20"},{default:r((()=>{var s;return[y(f((null==(s=e.value)?void 0:s.nickname)||t.nickname),1)]})),_:1})])),_:1})])),_:1})])),_:1}),c(k,{class:"right-box ss-m-r-52"},{default:r((()=>[c(C,{class:"ss-reset-button",onClick:h(V)},{default:r((()=>[c(v,{class:"sicon-qrcode"})])),_:1},8,["onClick"])])),_:1})])),_:1}),s.value&&!e.value.mobile?(i(),d(k,{key:0,class:"bind-mobile-box ss-flex ss-row-between ss-col-center"},{default:r((()=>[c(k,{class:"ss-flex"},{default:r((()=>[c(v,{class:"cicon-mobile-o"}),c(k,{class:"mobile-title ss-m-l-20"},{default:r((()=>[y(" 点击绑定手机号确保账户安全")])),_:1})])),_:1}),c(C,{class:"ss-reset-button bind-btn",onClick:l},{default:r((()=>[y("去绑定")])),_:1})])),_:1})):u("",!0)])),_:1},8,["style"])}}},[["__scopeId","data-v-4b8f6c36"]]),Gt=Q({__name:"s-order-card",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=[{title:"待付款",value:"1",icon:"/static/img/shop/order/no_pay.png",path:"/pages/order/list",type:"unpaid",count:"unpaidCount"},{title:"待收货",value:"3",icon:"/static/img/shop/order/no_take.png",path:"/pages/order/list",type:"noget",count:"deliveredCount"},{title:"待评价",value:"4",icon:"/static/img/shop/order/no_comment.png",path:"/pages/order/list",type:"nocomment",count:"uncommentedCount"},{title:"售后单",value:"0",icon:"/static/img/shop/order/change_order.png",path:"/pages/order/aftersale/list",type:"aftersale",count:"afterSaleCount"},{title:"全部订单",value:"0",icon:"/static/img/shop/order/all_order.png",path:"/pages/order/list"}],s=t,a=v((()=>_.$store("user").numData)),n=v((()=>{const{bgType:t,bgImg:e,bgColor:a}=s.styles;return{background:"img"===t?`url(${e}) no-repeat top center / 100% 100%`:a}}));return(s,u)=>{const p=x,m=o(l("uni-badge"),K),k=b;return i(),d(k,{class:"ss-order-menu-wrap ss-flex ss-col-center",style:g([n.value,{marginLeft:`${t.data.space}px`}])},{default:r((()=>[(i(),C(w,null,S(e,(t=>c(k,{class:"menu-item ss-flex-1 ss-flex-col ss-row-center ss-col-center",key:t.title,onClick:e=>h(_).$router.go(t.path,{type:t.value})},{default:r((()=>[c(m,{class:"uni-badge-left-margin",text:a.value.orderCount[t.count],absolute:"rightTop",size:"small"},{default:r((()=>[c(p,{class:"item-icon",src:h(_).$url.static(t.icon),mode:"aspectFit"},null,8,["src"])])),_:2},1032,["text"]),c(k,{class:"menu-title ss-m-t-28"},{default:r((()=>[y(f(t.title),1)])),_:2},1024)])),_:2},1032,["onClick"]))),64))])),_:1},8,["style"])}}},[["__scopeId","data-v-d94ba49c"]]),At=Q({__name:"s-wallet-card",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,s=v((()=>{const{bgType:t,bgImg:s,bgColor:a}=e.styles;return{background:"img"===t?`url(${s}) no-repeat top center / 100% 100%`:a}})),a=v((()=>_.$store("user").userWallet)),o=v((()=>_.$store("user").userInfo)),l=v((()=>_.$store("user").numData));return(e,n)=>{const u=b,p=x;return i(),d(u,{class:"ss-wallet-menu-wrap ss-flex ss-col-center",style:g([s.value,{marginLeft:`${t.data.space}px`}])},{default:r((()=>[c(u,{class:"menu-item ss-flex-1 ss-flex-col ss-row-center ss-col-center",onClick:n[0]||(n[0]=t=>h(_).$router.go("/pages/user/wallet/money"))},{default:r((()=>[c(u,{class:"value-box ss-flex ss-col-bottom"},{default:r((()=>[c(u,{class:"value-text ss-line-1"},{default:r((()=>[y(f(h(it)(a.value.balance)||"0.00"),1)])),_:1}),c(u,{class:"unit-text ss-m-l-6"},{default:r((()=>[y("元")])),_:1})])),_:1}),c(u,{class:"menu-title ss-m-t-28"},{default:r((()=>[y("账户余额")])),_:1})])),_:1}),c(u,{class:"menu-item ss-flex-1 ss-flex-col ss-row-center ss-col-center",onClick:n[1]||(n[1]=t=>h(_).$router.go("/pages/user/wallet/score"))},{default:r((()=>[c(u,{class:"value-box ss-flex ss-col-bottom"},{default:r((()=>[c(u,{class:"value-text"},{default:r((()=>[y(f(o.value.point||0),1)])),_:1}),c(u,{class:"unit-text ss-m-l-6"},{default:r((()=>[y("个")])),_:1})])),_:1}),c(u,{class:"menu-title ss-m-t-28"},{default:r((()=>[y("积分")])),_:1})])),_:1}),c(u,{class:"menu-item ss-flex-1 ss-flex-col ss-row-center ss-col-center",onClick:n[2]||(n[2]=t=>h(_).$router.go("/pages/coupon/list",{type:"geted"}))},{default:r((()=>[c(u,{class:"value-box ss-flex ss-col-bottom"},{default:r((()=>[c(u,{class:"value-text"},{default:r((()=>[y(f(l.value.unusedCouponCount),1)])),_:1}),c(u,{class:"unit-text ss-m-l-6"},{default:r((()=>[y("张")])),_:1})])),_:1}),c(u,{class:"menu-title ss-m-t-28"},{default:r((()=>[y("优惠券")])),_:1})])),_:1}),c(u,{class:"menu-item ss-flex-col ss-row-center ss-col-center menu-wallet",onClick:n[3]||(n[3]=t=>h(_).$router.go("/pages/user/wallet/money"))},{default:r((()=>[c(p,{class:"item-icon",src:h(_).$url.static("/static/img/shop/user/wallet_icon.png"),mode:"aspectFit"},null,8,["src"]),c(u,{class:"menu-title ss-m-t-30"},{default:r((()=>[y("我的钱包")])),_:1})])),_:1})])),_:1},8,["style"])}}},[["__scopeId","data-v-dd183fae"]]),Ht=Q({__name:"s-coupon-card",props:{list:{type:Array,default:()=>[{title:"已领取",value:"0",icon:"/static/img/shop/order/nouse_coupon.png",path:"/pages/coupon/list",type:"geted"},{title:"已使用",value:"0",icon:"/static/img/shop/order/useend_coupon.png",path:"/pages/coupon/list",type:"used"},{title:"已失效",value:"0",icon:"/static/img/shop/order/out_coupon.png",path:"/pages/coupon/list",type:"expired"},{title:"领券中心",value:"0",icon:"/static/img/shop/order/all_coupon.png",path:"/pages/coupon/list",type:"all"}]},data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,s=v((()=>{const{bgType:t,bgImg:s,bgColor:a}=e.styles;return{background:"img"===t?`url(${s}) no-repeat top center / 100% 100%`:a}}));return(a,o)=>{const l=x,n=b;return i(),d(n,{class:"ss-coupon-menu-wrap ss-flex ss-col-center",style:g([s.value,{marginLeft:`${t.data.space}px`}])},{default:r((()=>[(i(!0),C(w,null,S(e.list,(t=>(i(),d(n,{class:p(["menu-item ss-flex-col ss-row-center ss-col-center","all"===t.type?"menu-wallet":"ss-flex-1"]),key:t.title,onClick:e=>h(_).$router.go(t.path,{type:t.type})},{default:r((()=>[c(l,{class:"item-icon",src:h(_).$url.static(t.icon),mode:"aspectFit"},null,8,["src"]),c(n,{class:"menu-title ss-m-t-28"},{default:r((()=>[y(f(t.title),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1},8,["style"])}}},[["__scopeId","data-v-702d5d4e"]]),qt={__name:"s-block-item",props:{type:{type:String,default:""},data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup:t=>(e,a)=>{const n=o(l("s-search-block"),s),c=o(l("s-notice-block"),ft),p=o(l("s-menu-button"),mt),g=o(l("s-menu-list"),bt),y=o(l("s-menu-grid"),xt),f=o(l("s-popup-image"),kt),m=o(l("s-float-menu"),Ct),h=o(l("s-image-block"),wt),_=o(l("s-image-banner"),St),x=o(l("s-title-block"),Rt),k=o(l("s-image-cube"),$t),v=o(l("s-video-block"),Tt),C=o(l("s-line-block"),Lt),w=o(l("s-hotzone-block"),It),S=o(l("s-goods-card"),jt),R=o(l("s-goods-shelves"),zt),$=o(l("s-groupon-block"),Ft),T=o(l("s-seckill-block"),Ot),B=o(l("s-point-block"),Pt),L=o(l("s-live-block"),Mt),I=o(l("s-coupon-block"),Dt),j=o(l("s-richtext-block"),Ut),z=o(l("s-user-card"),Et),F=o(l("s-order-card"),Gt),O=o(l("s-wallet-card"),At),P=o(l("s-coupon-card"),Ht),W=b;return i(),d(W,null,{default:r((()=>["SearchBar"===t.type?(i(),d(n,{key:0,data:t.data,styles:t.styles,navbar:!1},null,8,["data","styles"])):u("",!0),"NoticeBar"===t.type?(i(),d(c,{key:1,data:t.data},null,8,["data"])):u("",!0),"MenuSwiper"===t.type?(i(),d(p,{key:2,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"MenuList"===t.type?(i(),d(g,{key:3,data:t.data},null,8,["data"])):u("",!0),"MenuGrid"===t.type?(i(),d(y,{key:4,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"Popover"===t.type?(i(),d(f,{key:5,data:t.data},null,8,["data"])):u("",!0),"FloatingActionButton"===t.type?(i(),d(m,{key:6,data:t.data},null,8,["data"])):u("",!0),"ImageBar"===t.type?(i(),d(h,{key:7,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"Carousel"===t.type?(i(),d(_,{key:8,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"TitleBar"===t.type?(i(),d(x,{key:9,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"MagicCube"===t.type?(i(),d(k,{key:10,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"VideoPlayer"===t.type?(i(),d(v,{key:11,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"Divider"===t.type?(i(),d(C,{key:12,data:t.data},null,8,["data"])):u("",!0),"HotZone"===t.type?(i(),d(w,{key:13,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"ProductCard"===t.type?(i(),d(S,{key:14,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"ProductList"===t.type?(i(),d(R,{key:15,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"PromotionCombination"===t.type?(i(),d($,{key:16,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"PromotionSeckill"===t.type?(i(),d(T,{key:17,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"PromotionPoint"===t.type?(i(),d(B,{key:18,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"MpLive"===t.type?(i(),d(L,{key:19,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"CouponCard"===t.type?(i(),d(I,{key:20,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"PromotionArticle"===t.type?(i(),d(j,{key:21,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"UserCard"===t.type?(i(),d(z,{key:22,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"UserOrder"===t.type?(i(),d(F,{key:23,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"UserWallet"===t.type?(i(),d(O,{key:24,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0),"UserCoupon"===t.type?(i(),d(P,{key:25,data:t.data,styles:t.styles},null,8,["data","styles"])):u("",!0)])),_:1})}},Zt={__name:"s-block",props:{styles:{type:Object,default(){}}},setup(t){const e=t,s=v((()=>{if(e.styles){if("color"===e.styles.bgType)return{background:e.styles.bgColor};if("img"===e.styles.bgType)return{background:`url(${_.$url.cdn(e.styles.bgImage)}) no-repeat top center / 100% auto`}}})),a=v((()=>{if(e.styles)return{marginTop:`${e.styles.marginTop||0}px`,marginBottom:`${e.styles.marginBottom||0}px`,marginLeft:`${e.styles.marginLeft||0}px`,marginRight:`${e.styles.marginRight||0}px`,paddingTop:`${e.styles.paddingTop||0}px`,paddingRight:`${e.styles.paddingRight||0}px`,paddingBottom:`${e.styles.paddingBottom||0}px`,paddingLeft:`${e.styles.paddingLeft||0}px`,borderTopLeftRadius:`${e.styles.borderTopLeftRadius||0}px`,borderTopRightRadius:`${e.styles.borderTopRightRadius||0}px`,borderBottomRightRadius:`${e.styles.borderBottomRightRadius||0}px`,borderBottomLeftRadius:`${e.styles.borderBottomLeftRadius||0}px`,overflow:"hidden"}}));return(t,e)=>{const o=b;return i(),d(o,{style:g([a.value,s.value])},{default:r((()=>[n(t.$slots,"default")])),_:3},8,["style"])}}};export{qt as _,Zt as a};
